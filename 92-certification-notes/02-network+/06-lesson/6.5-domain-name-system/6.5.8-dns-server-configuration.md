## 6.5.8 â€“ DNS Server Configuration  
#networking-plus  

DNS is a critical backbone service for both the internet and private networks (like AD environments). It must be correctly configured to resolve names efficiently and securely.

---

## ðŸ§± DNS Server Types

- **Port Use:**  
  - âœ… DNS queries: UDP/53 (default)  
  - âœ… Large responses / DNSSEC / IPv6: TCP/53  

- **Primary Zone:**  
  - Holds editable DNS records.  
  - Updates must be replicated to all other primary servers.  
  - Serial number increases with each change (used for sync).

- **Secondary Zone:**  
  - Read-only replica of a primary.  
  - Gets updates via **zone transfer**.  
  - Used for redundancy and load balancing.

- **Authoritative Server:**  
  - Holds original zone records.  
  - Answers with official, trusted data.  
  - Both primary and secondary zones can be authoritative.

- **Cache-only Server:**  
  - Doesnâ€™t store original zone data.  
  - Answers using **cached** data from previous queries.  
  - Non-authoritative.

---

## ðŸ§  DNS Caching

- **TTL (Time to Live):**  
  - Controls how long records stay cached.  
  - Lower TTL = quicker update, more traffic.  
  - Examples:  
    - `300s` (5 min), `3600s` (1 hour), `86400s` (1 day)

- **Who Caches?**  
  - DNS **resolvers**  
  - **Client applications** (like browsers)  
  - **Operating system DNS cache**

- **Danger of stale data:**  
  - Caching can delay propagation of DNS changes.  
  - Best practice: lower TTL before a change â†’ make the update â†’ restore original TTL after change.

---

## ðŸ’¡ Summary

- DNS servers vary by function: primary, secondary, cache-only, authoritative.
- UDP is default; TCP is used for larger or secure transfers.
- TTL governs DNS caching; both clients and servers cache DNS info.
