## 6.6.1 â€“ Client DNS Issues
#networking-plus

### ğŸ§± Whatâ€™s the issue?
A DNS issue often shows up when:
- A host **can ping a server by IP**, but **not by hostname**.
- This means name resolution is broken, but basic network connectivity still works.

### âœ… How name resolution works:
When a client wants to resolve a hostname, it:
1. **Checks local DNS cache**.
2. If no match: queries **configured DNS servers** (resolvers).
3. Resolver responds with an IP address (if available).

Most systems are set up with:
- A **primary** and **secondary DNS server**.
- Addresses usually assigned automatically (via DHCP).

---

### ğŸ” Diagnosing a Single Client Issue
If *one* client canâ€™t resolve names:
- Suspect the clientâ€™s **local DNS configuration**.
- On **Windows**, check DNS resolver addresses with:
ipconfig /all
- On **Linux**, look in:
/etc/resolv.conf

- Packages like `NetworkManager` or `systemd-networkd` usually update this file.

ğŸ§± Entries made directly here can be **overwritten at reboot** unless locked down.

---

### âš™ï¸ What to check
- Make sure DNS addresses are configured **correctly**.
- Test name server connectivity (can you ping them?).
- If the client has static IP settings, make sure the DNS info is correct.
- If DHCP is used, check the **DHCP server's scope options** to confirm itâ€™s handing out good DNS info.

---

### ğŸ‘¥ Diagnosing Issues on Multiple Clients
If *multiple* clients have DNS issues:
- Suspect the **DNS server itself** or subnet routing to it.
- Check if the DNS server is **online**, reachable, and correctly set as the resolver.
- Ensure **DHCP** is assigning proper DNS values.

---

### ğŸ§  Other Name Services (Non-DNS)
- **LLMNR** (Link-Local Multicast Name Resolution)
- **mDNS** (Multicast DNS)
- These allow clients to resolve names **locally**, no DNS needed.
- Mostly used in **Windows workgroups**, **IoT**, and **Apple devices**.

---

### ğŸ” Fun Fact
Even if the system DNS is misconfigured, some **apps like browsers** may have **custom DNS settings** (e.g., DoH â€“ DNS over HTTPS). This can cause inconsistent behavior.

