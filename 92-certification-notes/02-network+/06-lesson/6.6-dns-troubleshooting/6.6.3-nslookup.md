## 6.6.3 ‚Äì nslookup

### üß± What is nslookup?

- `nslookup` is a command-line utility for troubleshooting DNS name resolution.
- Used to query DNS to obtain domain name or IP mapping.
- Available on both Windows and Linux systems.

### üß™ Why use it?

- Helps verify DNS functionality when a system can ping by IP but **not** by hostname.
- Used to check:
  - MX (mail exchange) records
  - NS (name server) records
  - A (host) records
- Good for diagnosing DNS server misconfigurations or propagation issues.

---

### üõ† Syntax Format
nslookup [-Option] Host [DNSServer]

- `Host`: domain name, hostname, FQDN, or IP to query.
- `DNSServer`: optional. Use a specific DNS server for lookup.
- Example:  
nslookup -type=mx comptia.org 8.8.8.8

---

### üîç nslookup Examples

```powershell
nslookup -type=mx comptia.org 8.8.8.8
```

Looks up mail exchanger for `comptia.org` using Google's DNS.

nslookup -type=ns comptia.org 8.8.8.8

Queries name servers for `comptia.org`.

nslookup -type=mx comptia.org ns1.comptia.org
- Uses **Comptia's own authoritative DNS server** instead of Google's.
    
- Result is **authoritative** (more accurate).

### üß† Pro Tips

- **Non-authoritative** answers: results from a resolver‚Äôs cache or intermediate server
- **Authoritative** answers: directly from the original source (authoritative DNS server).
---

### üí° DNS Suffix Matters

- Hosts on Windows networks often have a **DNS suffix** (e.g. `pc1.ad.example.local`).
- Misconfigured suffix ‚Üí DNS failures even if everything else is fine.
---

### üß∞ Advanced: PowerShell Alternative

- Use PowerShell‚Äôs `Resolve-DnsName` for more advanced tests:
powershell

CopyEdit
`Resolve-DnsName comptia.org -Type MX`

- Supports testing across:
    - DNS server queries
    - Hosts file
    - DNS cache
---

### ‚úÖ Summary

- `nslookup` is a core DNS troubleshooting tool.
- Helps verify record types and DNS server behavior.
- Combine with tools like `ipconfig /all` or `hostname --fqdn` to narrow down name resolution problems.
vbnet

