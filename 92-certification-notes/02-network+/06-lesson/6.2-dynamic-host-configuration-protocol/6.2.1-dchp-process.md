# 6.2.1 ‚Äì DHCP Process  
#networking-plus

## ‚úÖ Overview

DHCP (Dynamic Host Configuration Protocol) automatically assigns IP configuration data to hosts on a network:
- IP address
- Subnet mask
- Default gateway
- DNS server
- Lease time

üß† Think of DHCP like a hotel front desk assigning you a temporary room key (IP address) when you check in (join the network).

---

## üß± Protocol Info

- **Protocol**: UDP  
- **Server port**: 67  
- **Client port**: 68  

---

## üîÑ DHCP Four-Step Process (DORA)

### 1. **DHCPDISCOVER**  
üì£ The client broadcasts a message to find available DHCP servers.
- Src IP: `0.0.0.0`  
- Dst IP: `255.255.255.255`  
- Purpose: "Is anyone out there to give me an IP?"

### 2. **DHCPOFFER**  
üì¶ A DHCP server responds with an IP offer and other config info.
- Src IP: DHCP server (e.g., `192.168.1.254`)  
- Dst IP: `255.255.255.255`  
- Includes: IP address, subnet mask, lease time, etc.

### 3. **DHCPREQUEST**  
üõéÔ∏è The client replies to request the offered IP.
- Still broadcasted  
- Confirms the chosen server and IP lease request

### 4. **DHCPACK**  
‚úÖ Server sends final acknowledgment with full config details.
- Includes IP, netmask, default gateway, DNS, etc.  
- Client performs ARP to check the IP isn't already in use

---

## ‚è≥ Lease Duration

- IPs are **leased**, not permanent
- The client must **renew** or **rebind** before lease expires
- If the lease can't be renewed, the discovery process restarts

---

## üß† Memory Tip

> **DORA**:  
> **D**iscover ‚Üí **O**ffer ‚Üí **R**equest ‚Üí **A**cknowledge  
> Like knocking on a door, getting invited in, asking to stay, and getting keys.

---

## üß™ Real-World Analogy

- **Client**: Guest arriving at hotel
- **DHCPDISCOVER**: "I need a room!"
- **DHCPOFFER**: Receptionist says: "I have Room 101 available."
- **DHCPREQUEST**: Guest: "I'll take Room 101."
- **DHCPACK**: Receptionist hands over the key and confirms: "Room 101 is yours."

---

## üîç Exceptions / Notes

- All messages are **broadcast** except ACK (may be unicast)
- If multiple servers respond, the client selects one offer
- Static IPs skip DHCP entirely
