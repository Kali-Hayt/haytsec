#networking-plus #roaming-and-client-disassociation-issues #roaming #ESA #extended-service-area  #ESSID 

## 12.4.5 – Roaming and Client Disassociation Issues

---

## 🚶‍♂️ What Is Roaming?

Roaming allows wireless clients to stay connected to the same network **ESSID** while moving within an **Extended Service Area (ESA)**.

- ESA = multiple APs wired together, same ESSID & security config.
- APs use **different channels**, and their coverage zones **overlap** without interfering.

---

## ⚠️ Roaming Misconfiguration Issues

Roaming is tricky — client behavior varies wildly. Problems include:

- **Sticky clients**: Stay connected to an AP even with poor signal, ignoring stronger ones nearby.
- **Flapping clients**: Rapidly switch back and forth between APs.
- **Legacy clients**: Don’t support 802.11k, 802.11r, or 802.11v → slow reauth or fail to roam properly.
  - 🔧 802.11r = fast reauth
  - 🧭 802.11k = gives topology info to client (helps with decision-making)
  - 📤 802.11v = helps push clients to better APs
- **2.4GHz vs. 5GHz mismatch**:
  - 2.4GHz reaches farther → attracts more clients.
  - APs may have unequal transmit power → causes roaming imbalance.

🔍 Use a WLAN controller to **analyze AP association time** and **track client movement**.

---

## 🔌 Client Disassociation Issues

### Normal Behavior:
- AP broadcasts a **beacon frame** → client authenticates & associates.
- Disassociation & deauthentication frames notify each side about connection end.

### Flapping:
- Clients may "flap" (jump) between APs → causes many disassoc/reassoc cycles.

---

## 🚨 Malicious Disassociation Attacks

When disconnections are **unexpected** and not caused by roaming, interference, or standards issues, **consider an attack**.

- **Spoofed disassociation frames**:
  - Attackers send fake management frames spoofing a client’s MAC.
  - Target either 1 client (personal attack) or **all clients** (broadcast DoS).
  - Result: devices kicked off Wi-Fi.

- **Attack goals**:
  - Denial of service (DoS)
  - Force reconnection to a **rogue AP** (evil twin)
  - Support a **replay attack** to capture handshake or steal keys

---

## 🛠 How to Detect

- **Check logs** in WLAN controller or AP
- Look for:
  - High disassociation counts
  - Reauth storms
  - Flapping patterns

---

## TL;DR Summary

- Roaming = good when done right — needs overlap & standards support.
- Sticky, flapping, or legacy clients = roaming headaches.
- Disassociation is normal… unless it’s weaponized.
- Spoofing attacks = silent killers. Always watch for patterns in logs.
