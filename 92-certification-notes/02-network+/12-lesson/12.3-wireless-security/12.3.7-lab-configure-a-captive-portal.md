#lab #configure-a-captive-portal #networking-plus 

## 12.3.7 – Lab: Configure a Captive Portal

### 🛠 Scenario
You've been hired by a small hotel to configure how their guests access the internet using **pfSense Captive Portal**. All users must pass through the portal to access the internet.

---

### ✅ Objectives
- Access the pfSense management console
- Create a **Guest_WiFi** captive portal zone
- Configure session limits and bandwidth restrictions
- Bypass the portal for specific MAC and IP addresses

---

### 🔐 Login to pfSense
- **Username**: `admin`
- **Password**: `P@ssw0rd` (zero)

---

### 🔧 Step-by-Step Configuration

#### 1. Add Captive Portal Zone
- Menu: `Services > Captive Portal`
- Click **Add**
- **Zone name**: `Guest_WiFi`
- **Description**: `Zone used for the guest Wi-Fi`
- Click **Save & Continue**

#### 2. Enable and Configure the Captive Portal
- Under **Captive Portal Configuration**, check **Enable**
- **Interfaces**: `GuestWi-Fi`
- Set limits:
  - **Concurrent connections**: `100`
  - **Idle timeout**: `30` minutes
  - **Hard timeout**: `120` minutes (2 hours)
- Enable bandwidth control:
  - Select **Per-user bandwidth restriction**
  - **Download**: `8000 Kbit/s`
  - **Upload**: `2500 Kbit/s`
- **Authentication**: Set to `None, don’t authenticate users`
- Click **Save**

---

### 🎯 Allow Devices to Bypass Captive Portal

#### 3. Allow MAC Address
- From **Captive Portal page**, click **Edit Zone**
- Go to **MACs**
- Click **Add**
- **Action**: `Pass`
- **MAC**: `00:00:1B:12:34:56`
- Click **Save**

#### 4. Allow IP Address
- Under **Allowed IP Addresses**
- Click **Add**
- **IP**: `198.28.1.100`
- **Subnet**: `/16` (255.255.0.0)
- **Description**: `Admin's Laptop`
- **Direction**: `Both`
- Click **Save**

---

### 🏁 Lab Result
- ✅ Score: **100%**
- ⏱ Time Spent: `11:53`

---

> 💡 Tip: pfSense captive por
