#networking-plus #cloud #overlay-networks 

## 14.4.6 â€“ Overlay Networks

- **Overlay network**: Implements logical links between nodes or networks, abstracting the complexity of the physical topology.
- **Example**: VPN (Virtual Private Network) is a type of overlay network.
- **Use cases**:
  - Encapsulation protocols + SDN to create tunnels across different physical topologies.
  - Segment the same physical network (e.g., isolate tenants in cloud environments).
- **Datacenter usage**: Often implemented using **VXLANs**.

---

### Virtual Extensible LANs (VXLANs)
- **Function**: Uses **Layer 2 encapsulation** over a **Layer 3 IP network**.
- **Identification**: Each overlay has a 24-bit **VNI** (VXLAN Network Identifier).
- **Process**:
  1. **VTEP** (VXLAN Tunnel Endpoint) encapsulates Layer 2 frames with the VNI into UDP packets.
  2. UDP packets travel over IP network to another VTEP.
  3. Destination VTEP decapsulates and processes frames.
- **Automation**: **EVPN (Ethernet VPN)** with **BGP** can auto-advertise VNIs and routes, enabling automated overlay control.

---

### Datacenter Interconnect (DCI)
- **Purpose**: Connects two or more datacenters across geographic distances.
- **Example**: Linking VMs or networks in different datacenters as if on the same subnet.
- **Challenges**:
  - Layer 2 adjacency requirements for clustered services.
  - Spanning VLANs across sites can cause broadcast storms or spanning tree issues.
- **Solution**:
  - Use **VXLAN + EVPN** to tunnel traffic between datacenters.
  - EVPN allows automatic discovery of adjacent MAC addresses and forwards data over the overlay.

---
