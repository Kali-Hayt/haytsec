## 7.3.2 – Internet Message Access Protocol (IMAP)  
#networking-plus #IMAP 

---

### 📥 Why IMAP Exists

SMTP is only good for **sending** email, not for reading it. Once mail arrives at a destination SMTP server, it’s handed off to a **mailbox server**, where users retrieve it using a **mail access protocol**—that’s where IMAP comes in.

---

### 🧱 What Is IMAP?

**IMAP (Internet Message Access Protocol)** is the **most common protocol** used by mail clients to access messages stored on a **mail server**.

It enables:
- **Permanent connections** to the server
- Multiple devices/clients accessing the **same mailbox**
- Server-side **folder management** (e.g., Inbox, Sent, Trash)
- Sync of **read/unread**, **deleted**, and **flagged** statuses across devices
- Multiple mailbox support per user

---

### 🔐 IMAP Ports & Security

| Port | Use       | Security | Notes |
|------|------------|----------|-------|
| `143` | IMAP      | Insecure by default | Can be upgraded to TLS with STARTTLS |
| `993` | IMAPS     | Secure    | IMAP over SSL/TLS — recommended |

> ⚠️ Port `143` is insecure unless encryption is manually negotiated using STARTTLS.  
> ✅ Port `993` is preferred: it uses **Implicit TLS** to secure the connection from the start.

---

### 🧠 How IMAP Works (vs POP3)

| Feature                   | IMAP                           | POP3                       |
|---------------------------|--------------------------------|----------------------------|
| Storage Location          | Server                         | Local device (by default)  |
| Sync Between Devices      | ✅ Yes                          | ❌ No                      |
| Message Copies            | Original stays on server       | Often deleted after download |
| Folder Management         | ✅ Server-side                 | ❌ Limited or none         |
| Multiple Devices Supported| ✅ Fully                       | ❌ Not ideal               |

---

### 💡 IMAP in Enterprise (Windows/Microsoft)

In **Windows environments**, enterprise mail apps (like Outlook) may use:
- **MAPI (Messaging API)** instead of IMAP.
- **MAPI** uses **HTTPS** as a secure transport.
- Designed specifically to integrate with **Microsoft Exchange**.

---

### 📌 Summary

- IMAP is for **reading** mail while keeping it **on the server**.
- Best suited for users with **multiple devices** (laptops, phones, etc.).
- Port `993` (IMAPS) is the default secure port.
- It allows folder creation, message syncing, and full mailbox control.
- Unlike POP3, IMAP is designed for modern, **synchronized email access**.

---

### 🧠 Analogy

> IMAP is like reading your mail at the post office. You don’t take everything home—you read, organize, or delete mail right at the counter. It stays there, synced across any device you use.

---
