#networking-plus  
## 7.2.3 File Transfer Protocol (FTP)

### üß± Overview

- FTP is used to **transfer files** between clients and servers.
- Common for **remote file access** on appliances, servers, and legacy systems.
- Supports both **upload and download** of files.
- Uses **TCP port 21** for commands and **TCP port 20** (in active mode) for data.

> ‚ö†Ô∏è FTP is not encrypted by default. Use **FTPS** or **SFTP** for secure alternatives.

---

### üß± Active vs Passive FTP

- **Active FTP**:
  - Client connects to server **port 21** to initiate session.
  - Client tells server which dynamic port (n+1) to use for data transfer (via `PORT` command).
  - Server then connects **back** to client‚Äôs chosen port.
  - üî• More likely to be blocked by client-side firewalls/NAT.

- **Passive FTP**:
  - Client connects to **server port 21** as usual.
  - Server replies with a random port for data connection.
  - Client initiates both command **and** data connections.
  - ‚úÖ Better compatibility with firewalls and NAT devices.

> üîç Control connection may time out if idle while data is being transferred‚Äîfirewalls might drop it unless SPI (Stateful Packet Inspection) is enabled.

---

### üß± Trivial File Transfer Protocol (TFTP)

- **TFTP** is a simplified, **connectionless** file transfer protocol.
- Uses **UDP port 69**.
- Only supports **GET (read)** and **PUT (write)**.
- ‚ùå No login, no directory navigation, no deletion‚Äîvery limited.
- No encryption, no authentication.

#### üß± Common Uses:
- Legacy hardware: switches, routers, diskless workstations, printers.
- Download/upload configuration files.
- Backup and restore appliance settings.

> ‚ö†Ô∏è Due to its lack of security, TFTP is rarely used in modern networks unless isolated.

---

## ‚úÖ Summary

| Protocol | Port | Secure? | Usage |
|---------|------|--------|-------|
| FTP     | TCP 21 (cmd), TCP 20 (data) | ‚ùå Plaintext by default | File transfer |
| Passive FTP | TCP 21 + server-assigned port | ‚ùå | Firewall-friendly FTP |
| TFTP    | UDP 69 | ‚ùå | Lightweight file transfers on legacy gear |

