#networking-plus #lab #configure-QoS #QoS #pfsense #tool 

## 8.6.7 Lab: Configure QoS  
#networking-plus

You are the IT admin for a small corporate network. Users on the guest Wi-Fi are hogging bandwidth.  
You‚Äôll configure pfSense QoS using the Traffic Shaper Wizard to limit high-bandwidth users and prioritize VoIP.

---

### üéØ Objectives
- ‚úÖ Create an alias for high-bandwidth users
- ‚úÖ Use Traffic Shaper wizard for **dedicated links** (1 WAN)
- ‚úÖ Configure traffic limits for GuestWi-Fi
- ‚úÖ Prioritize **VoIP**
- ‚úÖ Penalize specific IPs (bandwidth hogs)
- ‚úÖ Set higher priority for key protocols (MSRDP, VNC, PPTP, IPSEC)
- ‚úÖ Change MSRDP port to **3391**

---

### üß± Configuration Summary

#### 1. **Create Alias**
- **Name**: `HighBW`  
- **Description**: `High bandwidth users`  
- **Type**: `Host(s)`  
- **IP Addresses**:
  - Vera: `172.14.1.25`
  - Paul: `172.14.1.100`

#### 2. **Traffic Shaper Wizard Setup**
- Go to: `Firewall` ‚Üí `Traffic Shaper` ‚Üí **Wizards**  
- Select: `traffic_shaper_wizard_dedicated.xml`

##### WAN Count:
- Enter: `1`

##### LAN Setup (GuestWi-Fi shaping):
- **Local interface**: `GuestWi-Fi`  
- **Scheduler**: `PRIQ`  
- **Upload**: `8 Mbps`  
- **Download**: `50 Mbps`

---

### üîä VoIP Priority (Step 2 of 8)
- Enable VoIP
- **Upload**: `10 Mbps`
- **Download**: `20 Mbps`

---

### ‚ö†Ô∏è Penalty Box
- Enable
- **Address**: `HighBW`
- **Bandwidth**: `3%`

---

### ‚è´ Application Priority (Step 6 of 8)
- Enable other applications
- Set to **Higher priority**:
  - **MSRDP**
  - **VNC**
  - **PPTP**
  - **IPSEC**

---

### üîß Firewall Rule Adjustment
- Go to: `Firewall` ‚Üí `Rules` ‚Üí `Floating`
- Edit `m_Other MSRDP outbound`
  - **Interface**: `GuestWi-Fi`
  - **Port**: `3391`

---

### ‚úÖ Lab Complete
- Score: **100%**
- Total firewall rules created: **7**
- Total time: 14:03

