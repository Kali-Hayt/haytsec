#networking-plus #traffic-shaping #traffic #QoS #control-plane #data-plane #management-plane #CoS #diffServ

## 8.6.6 Traffic Shaping  
#networking-plus

Traffic shaping is about **controlling how data flows across the network**, especially under congestion, to **prioritize critical traffic** and **minimize packet loss**.

---

### 🎯 QoS vs. CoS

- **QoS (Quality of Service)** = fine-grained traffic control  
- **CoS (Class of Service)** = class-based tagging (like DiffServ or 802.1p)

➡️ DiffServ and 802.1p **tag** the traffic  
➡️ QoS tools like **MPLS** actually **enforce** delivery rules

🔧 Example:  
If VoIP is disrupted due to a 40GB file transfer, DiffServ can’t fix that alone—MPLS with QoS **reserves bandwidth** to meet VoIP’s latency + jitter requirements.

---

### 🧱 QoS Planes

Network QoS functions are split into three **planes**:

- **Control Plane** – Decides how to prioritize/route traffic  
- **Data Plane** – Moves the packets  
- **Management Plane** – Monitors the conditions (traffic load, errors)

---

### 🚦 Traffic Shapers vs. Traffic Policers

#### 🧊 Traffic Shapers:
- **Delay** low-priority packets so high-priority ones go through first
- Store packets in a buffer until bandwidth is free  
- Goal: consistent traffic flow, reduced packet loss

#### 🪓 Traffic Policers:
- Drop packets when traffic threshold is hit (**tail drop**)  
- Cheaper/simpler but prone to:
  - **Packet loss**
  - **Bandwidth underuse** during idle times

---

### ⚠️ Note on Device Capacity

- Shapers need enough buffer space to be effective  
- When the buffer overflows:
  - Devices either **drop packets**
  - Or use smart algorithms (like **RED – Random Early Detection**) to drop early

---

### ✅ Summary

- QoS = traffic control beyond tagging (DiffServ/802.1p)
- Shaping = delaying or buffering traffic for smoother flow  
- Traffic shaping > policing for avoiding lost packets + better performance
