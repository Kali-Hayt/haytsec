#networking-plus #traffic-shaping #traffic #QoS #control-plane #data-plane #management-plane #CoS #diffServ

## 8.6.6 Traffic Shaping  
#networking-plus

Traffic shaping is about **controlling how data flows across the network**, especially under congestion, to **prioritize critical traffic** and **minimize packet loss**.

---

### ðŸŽ¯ QoS vs. CoS

- **QoS (Quality of Service)** = fine-grained traffic control  
- **CoS (Class of Service)** = class-based tagging (like DiffServ or 802.1p)

âž¡ï¸ DiffServ and 802.1p **tag** the traffic  
âž¡ï¸ QoS tools like **MPLS** actually **enforce** delivery rules

ðŸ”§ Example:  
If VoIP is disrupted due to a 40GB file transfer, DiffServ canâ€™t fix that aloneâ€”MPLS with QoS **reserves bandwidth** to meet VoIPâ€™s latency + jitter requirements.

---

### ðŸ§± QoS Planes

Network QoS functions are split into three **planes**:

- **Control Plane** â€“ Decides how to prioritize/route traffic  
- **Data Plane** â€“ Moves the packets  
- **Management Plane** â€“ Monitors the conditions (traffic load, errors)

---

### ðŸš¦ Traffic Shapers vs. Traffic Policers

#### ðŸ§Š Traffic Shapers:
- **Delay** low-priority packets so high-priority ones go through first
- Store packets in a buffer until bandwidth is free  
- Goal: consistent traffic flow, reduced packet loss

#### ðŸª“ Traffic Policers:
- Drop packets when traffic threshold is hit (**tail drop**)  
- Cheaper/simpler but prone to:
  - **Packet loss**
  - **Bandwidth underuse** during idle times

---

### âš ï¸ Note on Device Capacity

- Shapers need enough buffer space to be effective  
- When the buffer overflows:
  - Devices either **drop packets**
  - Or use smart algorithms (like **RED â€“ Random Early Detection**) to drop early

---

### âœ… Summary

- QoS = traffic control beyond tagging (DiffServ/802.1p)
- Shaping = delaying or buffering traffic for smoother flow  
- Traffic shaping > policing for avoiding lost packets + better performance
