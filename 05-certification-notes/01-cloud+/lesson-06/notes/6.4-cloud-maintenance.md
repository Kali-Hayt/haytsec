### ğŸ”§ Maintenance Operations in the Cloud

Maintenance is a constant in any IT operation â€” cloud included.  
This section focuses on **operational maintenance** rather than hardware-level technical maintenance.

---

### ğŸ”„ Shared Responsibility: Who Does What?

Cloud providers and customers **share responsibility** for maintenance tasks. Itâ€™s critical to know:

- **Who** is performing the maintenance  
- **When** it will occur  
- **What** the potential impact will be  

ğŸ› ï¸ With highly redundant cloud architectures, many maintenance events are invisible to customers.

ğŸ“£ If the **cloud provider** is doing maintenance:
- They post notices on dashboards  
- Send email notifications  
- Provide timeframes and expected impact  
- Send an â€œall clearâ€ when the job is done  

---

### ğŸ§  Change Management for Your Cloud Workloads

If youâ€™re handling your own cloud maintenance:

- Always follow a formal **change management process** (see Lesson 2: Cloud Deployments)  
- This reduces risk and provides clear documentation  
- Unplanned maintenance? Then your job is to:
  - **Get systems operational fast**  
  - **Do a postmortem review** when it's done  

ğŸ“Œ *Plan it. Execute it. Document it.*

---
### ğŸ•’ Establishing Maintenance Windows

Your **IT operations team** must define **when** system changes can safely occur.

ğŸ§  These maintenance windows are driven by:
- **Business priorities**  
- **Operational schedules**  
- **Peak load periods**

ğŸ“Œ Example:
- Retailers avoid making changes during the **holiday shopping season**  
- Companies limit updates during **end-of-month** or **quarter-close processing**

âœ… Best practice:  
Schedule changes during periods with **minimal operational impact**.

---
### âš ï¸ Maintenance Interruptions to Operations

Modern cloud infrastructure uses **virtualization** to spin up or remove VMs rapidly â€” supporting high resilience.  
However, **you** are responsible for designing a resilient architecture.

If you skip **high availability best practices**, you risk operational impact during maintenance.

---

### âœ… Ideal Design Approach

- Design for **nonintrusive maintenance**
- Use **redundancy** features like:
  - Failover  
  - Failback  
  - Multiple availability zones  

These reduce the chances of **downtime during updates**.

---

### ğŸ“£ Communication Is Key

Before performing maintenance:

- Know the **potential impact**
- Disable systems **proactively** if needed
- Notify:
  - Customers  
  - Suppliers  
  - Any stakeholders  

ğŸ“Œ *Good planning + good communication = fewer surprises.*

---
### ğŸ¤– Maintenance Automation Impact and Scope

**Lesson 5: Maintaining Cloud Operations** introduced scripting tools like **Chef, Puppet, and Ansible**.

Automation plays a huge role in cloud maintenance:

- Enables preparation and staging of tasks in advance  
- Automation systems can execute maintenance **automatically** during designated windows  
- Ensures **consistency** and reduces manual errors  

---

### ğŸ“Š Cloud Dashboards & Automation

Most cloud platforms support:
- Monitoring of maintenance operations  
- Configuration of recurring tasks (e.g., **scheduled backups**)  
- Use of **orchestration systems** to run actions on a schedule  

ğŸ—“ï¸ You can define:
- Days of the week for automation  
- Start and stop times  
- Scope of operations to run automatically  
---
### âš™ï¸ Common Maintenance Automation Tasks

This section covers essential maintenance tasks for ongoing cloud operations.

You'll learn how to:
- Manage log files  
- Manage storage  
- Disable accounts  
- Configure firewalls, DNS, access control, and security rules  

---

### ğŸ—ƒï¸ Log Files Archive and Clearing

System logs track events from applications, users, hardware, and networking systems.  
They can include:
- Critical system errors  
- Informational messages  
- Security alerts  

ğŸ›¡ï¸ Use tools like **Event Viewer** or a **syslog server** to:
- Store logs securely  
- Analyze events post-failure or for auditing  
- Search for malicious activity  

ğŸ§  Centralized logging simplifies:
- Performance monitoring  
- Baseline and capacity analysis  
- Incident investigation  

---

## ğŸ§  Centralized Logging Strategy

All logging data should be sent to a **central logging server** for review and archiving.

### âœ… Benefits
- Detect performance issues  
- Track security incidents  
- Gain full visibility into application, server, and network activity  

### ğŸ” Key Considerations
- Identify which systems generate logs  
- Determine appropriate logging detail level  
- Encrypt logs during transmission and at rest  
- Choose between cloud or on-prem log storage  
- Account for CPU, network, and storage overhead  

ğŸš€ Tools (including big data platforms) can extract trends and patterns from massive log volumes.

---

## ğŸ“‹ Compliance & Legal Concerns

Log retention is **essential for regulatory compliance**.

### âœ… Why It Matters
- Supports external audits  
- Satisfies industry-specific retention requirements  

### âš–ï¸ Legal Factors
- Requirements vary by:
  - Country  
  - Industry  
  - Business type  

ğŸ“Œ Always consult with legal counsel when designing log retention policies.

---

## ğŸ¤ SLA Integration

Logging obligations should be clearly defined in the **Service Level Agreement (SLA)**.

### âœ… Include:
- What logs must be collected  
- Who is responsible (you or the cloud provider)  
- Whether log formats are compatible with your analysis tools  

ğŸ“Œ You are accountable for:
- Logs under your direct control  
- Logs managed by the cloud provider

---

## ğŸ’½ Compressing Storage on Drives

Organizations often apply **storage compression** as part of routine data management.

### âœ… Benefits of Compression at Rest
- Saves storage space  
- Lowers operational costs  
- Can reduce physical storage by over 50%

---

## ğŸ§¾ Filesystem-Level Compression

- Compresses **individual files** within a volume  
- Ideal for **archival or long-term storage**  
- âŒ Not suitable for workloads with **frequent reads** (e.g., active databases)

---

## ğŸ—„ï¸ Storage Array Compression

- Compression occurs at the **block level**, below the filesystem  
- Built-in feature offered by many storage vendors  
- Managed via storage **controllers or head-end systems**

### âš ï¸ Performance Considerations

- Compression **can reduce disk performance**  
- Always schedule compression jobs during a **maintenance window**  
- Avoid compressing active datasets during peak hours

ğŸ“Œ *Compression is powerful â€” but it must be planned to avoid bottlenecks.*

---
### ğŸ‘¥ Managing and Removing Inactive Accounts

Ongoing maintenance includes removing or disabling accounts that are no longer used.

âœ… **Why it matters:**
- Reduces the **attack surface** for cyberattacks  
- Ensures only **active, authorized users** retain access

---

### ğŸ›¡ï¸ Security Provider Tools

Security service providers often offer:
- **User account inventory** (users, groups, roles, federations, permissions)  
- Automated **account lifecycle management**  
- Actions based on metrics, like:
  - Disabling unused accounts  
  - Deleting long-dormant accounts  

---

### âš™ï¸ Automation & Logging

- Software tools can **automate account searches**  
- Use logging data to determine **last login or usage**  
- Perform global queries to identify stale accounts  

ğŸ“Œ Once found, inactive accounts should be **reviewed, disabled, or removed** based on policy.

---
### ğŸŒ Stale DNS Entries

In cloud environments, DNS mappings often change rapidly due to virtual systems being added or removed.

ğŸ” Over time, **old DNS entries** may linger:
- Pointing to **nonexistent systems**  
- Using **outdated IP addresses**  
- Typically old **A records** (hostname â†’ IP address)

---

### ğŸ§¹ Why It Matters

Deleting stale DNS records can:

- âœ… Improve DNS performance  
- âœ… Simplify troubleshooting  
- âœ… Eliminate confusion when resolving domain names  

---

### ğŸ› ï¸ Best Practice

- Regularly **review DNS entries** for relevance and accuracy  
- Remove outdated mappings as part of standard **cloud maintenance**  
- Use domain-based monitoring to **detect stale records quickly**

ğŸ“Œ *An ounce of DNS hygiene is worth a pound of uptime.*

---
## ğŸ—‘ Orphaned Resources

**Definition:**  
Orphaned resources are unused cloud assets left behind from processes or services that are no longer active or needed. These are typically caused by improper cleanup or oversight during operations.

---

### ğŸ’¸ Financial Impact
- Cloud assets like VMs, storage arrays, DNS records, or load balancers may continue to incur costs even after the service has ended.
- Example: A VM is deleted, but the storage volume remains and continues to be billed.
- Cloud billing consoles should be regularly reviewed to catch these lingering charges.

---

### ğŸ§  Organizational Oversight
- Sometimes internal teams don't realize certain resources are inactive.
- These may be billed to the company without anyone actually using them.
- Redundant provisioning increases operational costs unnecessarily.

---

### ğŸ›  Resource Management Practices
- Identify orphaned assets and:
  - Decommission them.
  - Reallocate them to active projects.
- This cleanup can cut costs and boost operational efficiency.

---

### ğŸ“‰ Underutilized Resources
- Resources like VMs with unused CPU/memory, or idle load balancers, are considered underutilized.
- Downsizing or adjusting these can lower billing.
- Examples of orphaned resources:
  - Unattached volumes
  - Unused databases
  - Idle load balancers

---

### ğŸ¤– Automation & Monitoring
- Monitoring tools help detect idle or orphaned assets.
- Some cloud providers offer automated analysis tools that:
  - Review usage.
  - Suggest cost-saving adjustments.
  - Improve your cloud security posture.
  - **Note:** These tools recommend â€” they donâ€™t act automatically unless configured.

---
## Orphaned Resources

**Orphaned resources** are unused components left over after a service is terminated or no longer needed.

When deploying cloud resources like:
- VMs
- Storage arrays
- Load balancers
- DNS
- Databases

...itâ€™s easy to forget something got left behind.

**Problem:** These resources often stay **active and chargeable**, even when unused.

**Example:**  
You spin up a VM, delete it â€” but the attached storage volume keeps running and **continues billing**.

> ğŸ” **Tip:** Regularly audit your cloud providerâ€™s billing dashboard. Know whatâ€™s running â€” and why.

---

## Inactive Resources from Other Groups

Different teams may leave cloud resources active â€” unaware theyâ€™re no longer needed.

**Risks:**
- Redundant provisioning
- Unnecessary costs

**With better visibility, you can:**
- ğŸ§¹ Identify unused assets  
- ğŸ—‘ï¸ Terminate or repurpose them  
- ğŸ’° Cut waste and improve ROI  

---

## Underutilized Resources

These are running â€” but not pulling their weight.

**Common signs:**
- VMs with low CPU/RAM usage  
- Unattached volumes  
- Idle databases or balancers

ğŸ¯ **Goal:** Downsize or consolidate to save money.

---

## Monitoring & Automation

Cloud platforms often include **built-in tools** to flag idle resources.

These tools:
- Review account activity
- Recommend actions
- Highlight cost and security risks

> âš ï¸ Automation doesnâ€™t fix things for you â€” it just tells you where to look.

---

## Firewall Rule Sprawl

Every app update brings new firewall rules. But no one cleans the old junk out.

**Result:**
- Bloated rule sets
- Conflicts and overlaps
- Weakened security

### The Risks:
- Obsolete rules create blind spots  
- Duplicate or conflicting rules waste resources  
- Broad â€œallow allâ€ rules increase exposure  

---

## Regular Firewall Rule Reviews

**Benefits of cleanup:**
- ğŸ›¡ï¸ Better security posture  
- ğŸ“‹ Easier audits  
- âš¡ Faster system performance  
- ğŸ§  Clearer policies  

---

## What to Review

- ğŸ”¹ Rule usage analysis  
- ğŸ”¹ Traffic flow evaluation  
- ğŸ”¹ Duplicate rules  
- ğŸ”¹ Unused rules  
- ğŸ”¹ Overly broad permissions  
- ğŸ”¹ Compliance gaps  
- ğŸ”¹ Recertification logs  
- ğŸ”¹ Deletion procedures  

---

## Manual vs Automated Cleanup

- Manual = precise but time-consuming  
- Automated = faster, needs oversight

**Best Practice:** Combine both. Let automation flag issues, then use your judgment to clean house.

---

## Final Thought

ğŸ§¼ **Firewall rules arenâ€™t â€œset it and forget it.â€**  
Regular cleanup is essential for security, performance, and cost control.

---

## ğŸ”„ Reclaiming Cloud Resources

As cloud resources are added and removed, unused services can accumulate â€” often still incurring charges.

### âš ï¸ Common Issues
- Services may not be fully removed  
- Idle or abandoned resources may continue to cost money  
- Automation may not catch everything  

âœ… Identifying and removing unused resources can significantly reduce cloud costs.

---

## ğŸ¤– Automation & Advisory Services

- Many cloud vendors offer advisory tools to **detect idle resources**  
- These tools use **automation** to locate and report unused services  
- You can also perform a **manual inventory**:
  - Review all accounts and departments  
  - Identify resources that can be **redeployed** or removed

---

## ğŸ§  Best Practices When Deleting Resources

- Know **what gets removed** and **what remains**  
- Understand automation **limitations and trade-offs**  
- Systems may not always behave as expected  

ğŸ“Œ Being aware of what isnâ€™t deleted helps prevent configuration clutter and reduces unnecessary spending.

---
## ğŸ” Maintaining Access Control Lists (ACLs)

Regular maintenance of network and system access controls is critical for secure cloud infrastructure.

### âš™ï¸ Key Points
- ACL maintenance is similar to **firewall rule maintenance**  
- Entries can accumulate and go **unchecked for validity**  
- Stale or unused ACLs may remain in device configurations  

âœ… Review ACLs regularly to remove outdated or invalid entries.

---

## ğŸŒ Network ACLs

- Control **inbound and outbound traffic** at the subnet level  
- Should be reviewed when:
  - Servers are added or removed  
  - New services are deployed  

ğŸ“Œ Keep ACLs updated as part of your **cloud support operations**.

---

## ğŸ’» System-Level ACLs

- Found in most **operating systems**  
- Control access to:
  - Volume directories and files  
  - Admin rights  
  - System resources  

---

## ğŸ§¹ Why ACL Reviews Matter

- Helps clean up **overly permissive or obsolete policies**  
- Can be done manually or with automation  
- Must be reviewed on a **regular schedule** for:
  - Better security  
  - Improved system performance
---
## ğŸ’¾ Backing Up and Restoring DynamoDB

Backing up and restoring Amazon DynamoDB tables ensures data protection and recovery by allowing users to create backups and restore data without impacting performance.

### âœ… Benefits
- Safeguards against:
  - Accidental deletions  
  - Application failures  
  - Unexpected data corruption  
- Restored tables keep original data intact  
- Some settings (indexes, streams) may need reconfiguration after restore  
- Enhances business continuity and disaster recovery  
- Ensures minimal downtime and maintains data integrity
