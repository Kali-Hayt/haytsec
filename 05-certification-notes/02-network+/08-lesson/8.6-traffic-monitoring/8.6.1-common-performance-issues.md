#networking-plus #traffic #bottlenecks #packet-loss #bandwidth #QoS #latency #jitter

## 8.6.1 Common Performance Issues

### 🧱 QoS and Real-Time Data

- **QoS (Quality of Service)** protocols prioritize real-time data (like voice & video) over other traffic.
- Real-time data is **time-sensitive**: order and timing of packets matters.
- **Bursty data** (like file transfers) doesn’t care about delays between packets.

### ✅ Streaming Apps: What They Need

- Streaming video = high bandwidth needs.
- But the main enemy isn't bandwidth—it's:
  - ❌ **Packet Loss**
  - ❌ **Latency**
  - ❌ **Jitter**

---

## Bandwidth

- Bandwidth = **amount of data that can be transmitted**, measured in **bps** (bits per second).
- Pay attention to:
  - **Nominal rate** (Layer 1)
  - **Throughput** (Layer 3)
  - **Goodput** (actual usable data rate)

### Example: VoIP Audio

- Voice frequency = 4,000 Hz
- Needs sampling at **2×** → 8,000 samples/sec
- Sample size = 8 bits (1 byte)
- **8 KHz × 8 bits = 64 Kbps**
- VoIP: allocate ~100 Kbps up/down per call

### Video Bandwidth

- Based on resolution, color depth, and FPS (frames per second)

---

## Bottlenecks 🧱

- A **bottleneck** = slowdown point that limits network performance.
- Causes:
  - Weak device (slow router/switch)
  - User or app overuse
- Troubleshoot by:
  - Identifying **where** & **when**
  - Watch for overutilization or excessive errors

---

## Packet Loss 🔍

- Losing packets = common during heavy traffic
- Detect using **packet sniffer**
  - Clues: duplicate ACKs, retransmissions

### Causes:
- Overloaded switch/router/server
- Power outages
- Firewall blocking traffic
- Malicious interference
- Faulty firmware

---

## Latency and Jitter 🎯

### Latency
- Delay from sender to receiver (measured in ms)

### Jitter
- **Inconsistent latency**
- Makes VoIP/video stutter or buffer
- Calculated from multiple samples of transit time

### Effects on Real-Time Apps
- Real-time apps are sensitive
- Delayed/out-of-order/lost packets = need buffering
- If the buffer runs out → user sees glitches/artifacts

### Testing Tools
- `ping`, `pathping`, `mtr`
- Use **RTT** (Round Trip Time) and packet loss % as benchmarks
  - Good RTT: < 300 ms
  - Jitter: < 30 ms
  - Packet loss: < 1%

### Wireshark Usage
- Shows **timestamps**
- Use **Statistics → TCP Stream Graph** for delay visuals

---

