# 🧰 Lab Summary: Troubleshoot IP Configuration 1

## 🧠 Scenario
Some devices (CorpServer) could reach the internet. Others (Office2, ITAdmin) could not. You discovered the root cause was a **default gateway mismatch** in DHCP settings.

---

## ✅ Key IP Info (from Lab)

| Device     | IP Address     | Gateway        |
|------------|----------------|----------------|
| CorpServer | 192.168.0.10   | **192.168.0.5** |
| ITAdmin    | 192.168.0.31   | 192.168.0.4    |
| Office2    | 192.168.0.34   | 192.168.0.4    |
| ISP        | 198.28.2.254   | —              |

CorpServer could ping the ISP. ITAdmin and Office2 **failed to ping 198.28.2.254** — the ISP’s public IP.

---

## 🛠️ Fix Summary

1. **Problem:** CorpServer had a different gateway (192.168.0.5) than the others (192.168.0.4).
2. **Cause:** DHCP scope handed out wrong gateway (192.168.0.4).
3. **Solution:** 
   - Reconfigured DHCP scope on CorpDHCP to hand out 192.168.0.5 as the gateway.
   - `ipconfig /release` and `ipconfig /renew` on Office2 and ITAdmin.
   - Verified connectivity with `ping 198.28.2.254`.

---

## 🔧 Tools and Commands Used

- `ipconfig /all` — Show full IP config.
- `ping [IP]` — Test network connectivity.
- `ipconfig /release` + `/renew` — Force DHCP lease update.
- (Optional) `ipconfig /flushdns` and `/registerdns` — Not required in this lab but helpful elsewhere.

---

## 🧱 Protocol Stack Touchpoint

- 🧱 Layer 3: IP address, Default Gateway (router)
- 🧱 Layer 2: MAC (unchanged, relevant for DHCP)
- 🔍 Layer 7/3: DNS (not the issue this time)

---

## 🧭 Lessons Learned

- ✅ **Default gateway must match the router that connects to the internet**. Otherwise, pings to public IPs fail.
- ✅ Devices using DHCP inherit incorrect settings if the scope isn’t properly configured.
- ✅ Just because two devices are in the same subnet doesn’t mean they have equal internet access—**gateway matters**.
- 🧠 DHCP misconfigs are **classic real-world issues**. Always check:
  - IP address
  - Subnet mask
  - Default gateway
  - DNS servers
- 🚀 Bonus Tip: CorpServer worked fine because **its config was static and correct**. But DHCP clients inherited the wrong info.

---

## ✍️ Real-World Reflection

You noticed that `ipconfig /flushdns` and `ipconfig /registerdns` weren’t needed—true, because this was a **gateway misroute**, not a name resolution problem. Still, those are **good habits** in DNS-related issues or after changes to DNS settings.

This lab teaches a classic real-world scenario: **Everything looks fine, but DHCP gave out the wrong gateway.** Subtle, but critical.

---

## 🧪 Your Result

> Score: ✅ 100%  
> Time Spent: 🕒 34:52  
> Issue: Misconfigured DHCP router option  
> Resolution: Corrected DHCP, verified with renew + ping tests  
> Good work tracking the difference between static and DHCP clients!

