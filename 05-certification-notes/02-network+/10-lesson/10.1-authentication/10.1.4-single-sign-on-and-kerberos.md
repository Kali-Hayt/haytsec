#networking-plus #single-sign-on #SSO #kerberos #KDC #kerberos-authentication-service #TGS #ticket-grant-service #authentication-services #AS #ticket-granting-ticket #TGT

## 10.1.4 Single Sign-On and Kerberos

### üîê What Is SSO (Single Sign-On)?

**Single Sign-On (SSO)** lets a user **authenticate once** and then access **multiple related systems or services** without logging in again.

> ‚úÖ One password, many doors‚Äîno need to retype credentials over and over.

#### Example:
- Logging into a Windows machine using your Microsoft account ‚Üí automatically get access to:
  - OneDrive
  - Teams
  - Office 365
  - Outlook
  - Other connected apps and services

---

### üß± Enter: Kerberos

**Kerberos** is a framework/protocol that implements SSO. It:
- Provides secure authentication for **Active Directory (AD)** environments
- Works with **Windows and some non-Windows systems**
- Is named after Cerberus üê∂üê∂üê∂ (3-headed dog), because it has **three components**:
  1. **Client** (user/system requesting access)
  2. **Server** (the resource being accessed)
  3. **Key Distribution Center (KDC)** ‚Äî the gatekeeper

---

### üß± The Two Heads of the KDC:

1. **Authentication Service (AS)**  
   - Verifies the user‚Äôs identity
   - Issues the first "ticket" (called **TGT ‚Äì Ticket Granting Ticket**) if authentication succeeds

2. **Ticket Granting Service (TGS)**  
   - Accepts the TGT
   - Issues a **Service Ticket** so the user can access the actual resource (like a file server)

---

### üß™ How It Works (Step-by-Step)

1. **Logon Attempt**
   - User logs in on a Windows domain device.
   - Credentials go to the **Authentication Service (AS)**.
   
2. **TGT Issued**
   - If login succeeds, the KDC gives the user a **Ticket Granting Ticket (TGT)**.
   - The TGT says, "This user is legit‚Äîlet them ask for stuff."

3. **Request Access to Service**
   - When the user tries to access a service (e.g., shared folder), the client gives the **TGT** to the **Ticket Granting Service (TGS)**.

4. **Service Ticket Granted**
   - TGS responds with a **Service Ticket**‚Äîthis is what the client uses to authenticate to the target server.

5. **Access Granted**
   - Client presents the service ticket to the resource.
   - ‚úÖ If valid, access is granted‚Äî**no password needed again**.

---

### üîç Summary Analogy

- **TGT** = universal backstage pass
- **Service Ticket** = room-specific key
- **KDC** = the security office issuing passes
- **Client** = you
- **Server** = the locked door you want into

---

> ‚ö†Ô∏è Note: Kerberos relies on time-synced systems. Skewed clocks can break authentication!

