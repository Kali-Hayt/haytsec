#lab #networking-plus #vpn #remote #remote-access

## 13.2.8 Lab: Configure a Remote Access VPN  
**Score:** 100%  
**Time Spent:** 17:49  

### Scenario  
As the IT security administrator for a small corporate network, you need to provide secure remote access to internal resources using pfSense. In this lab, you configure an OpenVPN Remote Access server.

---

### Steps  

1. **Sign in to pfSense**  
   - Username: `admin`  
   - Password: `P@ssw0rd` (zero)  
   - Sign in via the management console.

2. **Start VPN wizard**  
   - Navigate: `VPN > OpenVPN`  
   - Select `Wizards`  
   - Authentication Backend Type: `Local User Access`  
   - Next.

3. **Create Certificate Authority**  
   - Name: `CorpNet-CA`  
   - Country Code: `GB`  
   - State: `Cambridgeshire`  
   - City: `Woodwalton`  
   - Organization: `CorpNet`  
   - Add new CA.

4. **Create Server Certificate**  
   - Name: `CorpNet`  
   - Verify location details match CA.  
   - Create new certificate.

5. **Configure VPN Server**  
   - **General Information**:  
     - Interface: `WAN`  
     - Protocol: `UDP on IPv4 only`  
     - Description: `CorpNet-VPN`  
   - **Tunnel Settings**:  
     - Tunnel Network: `198.28.20.0/24`  
     - Local Network: `198.28.56.18/24`  
     - Concurrent Connections: `4`  
   - **Client Settings**:  
     - DNS Server 1: `198.28.56.1`  
   - Next.

6. **Configure Firewall Rules**  
   - Traffic from clients to server: `Firewall Rule`  
   - Traffic from clients through VPN: `OpenVPN rule`  
   - Finish.

7. **Set Server to Remote Access (User Auth)**  
   - Edit server for WAN interface.  
   - Server mode: `Remote Access (User Auth)`  
   - Save.

8. **Create Standard VPN Users**  
   - Navigate: `System > User Manager`  
   - Add each user:  

     | Username   | Password      | Full Name        |
     |------------|--------------|------------------|
     | blindley   | L3tM31nNow   | Brian Lindley    |
     | jphillips  | L3tM31nToo   | Jacob Phillips   |
   - Save after each.

---

### Key Concepts  
- **pfSense Wizard** streamlines OpenVPN setup by handling CA, certificates, and firewall rules.  
- **Remote Access VPN** allows individual users to connect securely from offsite.  
- **UDP on IPv4 only** reduces overhead compared to TCP and limits protocol exposure.  
- **Tunnel vs Local Network**: Tunnel is the virtual VPN network, Local is the internal LAN.  
- Firewall rules must explicitly allow both VPN client traffic and routing into internal networks.

---

âœ… **Lab completed successfully with 100% score.**
