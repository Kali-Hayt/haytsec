## 1.3.4 â€“ Network Layer Functions

### ğŸ”¢ Layer 3 Overview
- **Layer 3 = Network Layer**
- Handles **IP addressing**, **routing**, and traffic between networks
- Distinguishes between:
  - **Private (LAN)** IP ranges â†’ e.g. `192.168.1.0/24`
  - **Public (WAN)** IP ranges â†’ e.g. `203.0.113.1`

---

### ğŸŒ SOHO Router Layer 3 Role
- Routes traffic between **private LAN** and **public Internet**
- Holds **2 IP addresses**:
  - **LAN IP** (e.g. `192.168.1.254`) â†’ gateway for local devices
  - **WAN IP** (e.g. `203.0.113.1`) â†’ provided by ISP
- Forwards traffic based on destination IP
- Drops or NATs anything that leaves the LAN

---

### ğŸ“¦ DHCP (Dynamic Host Configuration Protocol)
- **DHCP server** inside the router assigns IPs to clients
- Clients receive:
  - **IP Address** (e.g. `192.168.1.100`)
  - **Subnet Mask** (usually `255.255.255.0`)
  - **Default Gateway** (routerâ€™s LAN IP, e.g. `192.168.1.254`)
  - **DNS Server** (can be internal or external)

---

### ğŸ” Traffic Flow
```text
[LAN Host: 192.168.1.101]
    â†“  (Default Gateway: 192.168.1.254)
[Router]
    â†“ (NAT & Route)
[WAN IP: 203.0.113.1]
    â†“
[Internet]
```

---

### ğŸ“Š IP Addressing Summary
- **Private IP Block Example**: `192.168.1.0/24`
  - `.1 to .254` usable
  - `.254` often used by the router
- **Public IP Block Example**: `203.0.113.0/29`
  - Provided by ISP
  - Routes Internet-facing traffic

---

### ğŸ§  Key Terms
- **Default Gateway**: Router's IP on the LAN
- **Subnet Mask**: Defines network size
- **NAT**: Translates internal IPs to the public WAN IP
- **Routing Table**: Controls where traffic is forwarded based on destination IP

---

### ğŸ’¡ Real-World Example
- Router assigns `192.168.1.100` to laptop
- Routerâ€™s IP is `192.168.1.254`
- Public-facing IP from ISP: `203.0.113.1`
- Router **routes LAN to WAN** and **replies back** to the correct internal device

