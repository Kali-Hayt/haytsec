#networking-plus $fibre-channel #fibre #cable #data-center #storage #TCP #IP #NVEMe #remote #ethernet 

## 14.1.4 Fibre Channel

### Overview
Fibre Channel (FC) is a **T11 ANSI standard** used for SAN fabrics.  
- British spelling "fibre" distinguishes it from fiber optic cabling ‚Äî FC can use fiber but doesn‚Äôt depend on it.  
- Commonly implemented in a **Switched Fabric** (FC-SW) with three main component types.

‚õ¥ **Ship Analogy**:  
Imagine the Fibre Channel as **specialized cargo lanes** inside the ship‚Äôs secure hold, with dedicated routes for moving storage containers (data blocks) between specific rooms (servers and storage devices).

---

### Components
- üõ† **Initiator**: Client device of the SAN (e.g., file or database server) with a Fibre Channel Host Bus Adapter (HBA).  
- üéØ **Target**: Network port for a storage device (e.g., single drives, RAID arrays, tape drives).  
  - Storage is divided into **logical volumes**, each with a **64-bit Logical Unit Number (LUN)**.  
  - Supports interfaces like SCSI, SAS, SATA, NVMe.  
  - Multiple ports for **load balancing** and **fault tolerance**.  
- üîÑ **FC Switch**: Connects initiators and targets, providing **multiple paths** for redundancy and load balancing. High-performance versions are called **directors**.

---

### Addressing
- Each initiator and target has a **64-bit WorldWide Name (WWN)** ‚Äî like a MAC address.  
- Two types: **WorldWide Node Name (WWNN)** for the device, **WorldWide Port Name (WWPN)** for each port.

---

### Performance
- Speeds range from **1GFC (1 Gbps)** to **128GFC**.  
- Uses dedicated **SFP+** and **QSFP** optical or twinax modular transceivers.  
- FC and Ethernet transceivers are **not** interchangeable.

---

### Modern Trends
- ‚ö° Most SANs now use **NVMe over Fabrics (NVMe-oF)** for SSD performance:  
  - **FC-NVMe** or **NVMe/FC** = NVMe over Fibre Channel.  

---

## Converged Ethernet

### Overview
Some SANs use **Converged Enhanced Ethernet (CEE)** instead of Fibre Channel.  
- Adds **Quality of Service (QoS)** for lossless, guaranteed delivery.  

---

### Methods
- üåê **Fibre Channel over Ethernet (FCoE)**: Sends Fibre Channel packets over lossless Ethernet using special adapters (**Converged Network Adapters ‚Äî CNAs**).  
- üöÄ **NVMe over RoCE (Remote Direct Memory Access)**: Offloads storage transfers from CPU/OS for faster performance than NVMe/FC.

---

## TCP/IP in SANs

### Overview
- **iSCSI**: IP tunneling protocol for sending SCSI data over Ethernet. Works with standard NICs and switches.  
- Alternative to FC or CEE; more cost-effective but may have higher latency.  

---

### Modern Option
- **NVMe over TCP (NVMe/TCP)**: Uses TCP‚Äôs reliability instead of lossless transport.  
  - Higher latency and overhead than RoCE or FC, but simpler procurement and deployment using standard Ethernet gear.

---

### Best Practices
‚ö† **Do not** run SAN traffic on the same cabling as production data networks, even with iSCSI or NVMe/TCP.  
- Performance will degrade significantly.  
- Always use **dedicated cabling, switches, and NICs** for SAN traffic.

---

### Analogy Recap
- üö¢ **Fibre Channel** = Dedicated cargo lanes with strict ID checks (WWNs).  
- üåê **Converged Ethernet** = Cargo lanes merged with passenger corridors but upgraded for no collisions.  
- üì¶ **iSCSI/NVMe over TCP** = Using standard passageways, slower but cheaper to set up.

